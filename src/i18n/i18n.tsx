import React, { createContext, useContext, useEffect, useState } from 'react';

type Lang = 'en' | 'pt-BR';

const translations: Record<Lang, Record<string, string>> = {
  'en': {
    brand_name: 'Landing Page Pro',
    navbar_portfolio: 'Portfolio',
    navbar_pricing: 'Pricing',
    navbar_get_started: 'Get Started',
    navbar_talk: 'Talk to Our Team Now',
    portfolio_title: 'Our Portfolio',
    portfolio_sub: "Discover stunning landing pages we've created for clients across industries",
    pricing_title: 'Simple, Transparent Pricing',
    pricing_sub: 'Choose the perfect package for your needs. All plans include mobile-responsive design and SEO optimization.',
    cta_title: 'Ready to Transform Your Business?',
    cta_sub: 'Join hundreds of successful businesses that have launched with our professional landing pages.',
    cta_offer: 'Limited Time Offer',
    view_portfolio: 'View Portfolio',
    hero_sub: 'Professional, high-performance landing pages fast delivered. Perfect for startups, marketers, and businesses that need results fast.',
    fast_delivery: 'Fast Delivery! ⚡',
    contact_us: 'Contact us for enterprise pricing',
    view_details: 'View Details',
    whatsapp_message: "Hi! I would like to get more information.",
    footer_copy: 'All rights reserved.',
    who_title: 'Who Is This For?',
    who_sub: 'Our landing page service is perfect for ambitious professionals and businesses',
    how_title: 'How It Works',
    how_sub: 'Select the perfect package that fits your needs and budget from our transparent pricing options.',
    how_step1_title: 'Choose Your Plan',
    how_step1_desc: 'Select the perfect package that fits your needs and budget from our transparent pricing options.',
    how_step2_title: 'Submit Your Details',
    how_step2_desc: "Fill out our simple form with your brand colors, logo, and content. We'll guide you every step of the way.",
    how_step3_title: 'We Design & Build',
    how_step3_desc: 'Our expert team creates your custom landing page with attention to every detail, optimized for conversions.',
    how_step4_title: 'Launch & Convert',
    how_step4_desc: 'Receive your completed page, review it, and go live. Start converting visitors into customers immediately.',
    faq_title: 'Frequently Asked Questions',
    faq_sub: 'Everything you need to know about our landing page service',
    faq_q1: 'How long does it take to complete a landing page?',
    faq_a1: 'Delivery time depends on your chosen package: Basic (7 days), Pro (1 day), and Enterprise (1 day). We work efficiently without compromising quality to meet your deadlines.',
    faq_q2: 'What technology do you use?',
    faq_a2: 'We use modern, industry-standard technologies including React, Next.js, and Tailwind CSS to ensure your landing page is fast, responsive, and SEO-optimized.',
    faq_q3: 'Can you help with copywriting?',
    faq_a3: 'While we primarily focus on design and development, we can provide guidance on structure and best practices. We recommend having your copy ready, or we can connect you with professional copywriters.',
    faq_q4: 'Do you provide hosting?',
    faq_a4: 'We deliver your landing page ready to deploy. We can recommend hosting solutions and provide deployment assistance, ensuring a smooth launch process.',
    faq_q5: 'What about SEO and analytics?',
    faq_a5: 'All our packages include basic SEO optimization. Pro and Enterprise packages include advanced SEO setup and analytics integration (Google Analytics, Facebook Pixel, etc.).',
    faq_q6: 'Can I see examples of your work?',
    faq_a6: "Absolutely! Check out our portfolio section above to see examples of landing pages we've created for various industries and use cases.",
    faq_q7: 'What happens after my page is launched?',
    faq_a7: 'After launch, you own the page completely. We provide documentation and support to help you maintain it. We\'re also available for ongoing maintenance and updates if needed.'
    ,
    no_hidden_fees: 'No Hidden Fees',
    satisfaction_100: '100% Satisfaction',
    hero_title_prefix: 'Stunning Landing Pages That',
    hero_title_emphasis: 'Convert',
    projects_delivered: 'Projects Delivered',
    client_satisfaction: 'Client Satisfaction',
    days_delivery: 'Days Delivery',
    how_intro: 'From concept to launch in just 4 simple steps',
    services_title: 'Services',
    company_title: 'Company',
    legal_title: 'Legal',
    landing_pages: 'Landing Pages',
    logo_design: 'Logo Design',
    seo_optimization: 'SEO Optimization',
    custom_development: 'Custom Development',
    about_us: 'About Us',
    terms_of_service: 'Terms of Service',
    privacy_policy: 'Privacy Policy',
    cookie_policy: 'Cookie Policy',
    audience_startups_title: 'Startups',
    audience_startups_desc: 'Launch your MVP with a professional landing page that attracts investors and early adopters.',
    audience_marketers_title: 'Digital Marketers',
    audience_marketers_desc: 'Create high-converting campaign pages that maximize your ROI and drive qualified leads.',
    audience_smallbiz_title: 'Small Businesses',
    audience_smallbiz_desc: 'Establish your online presence with a stunning page that builds trust and drives sales.',
    audience_freelancers_title: 'Freelancers',
    audience_freelancers_desc: 'Showcase your services and portfolio with a page that wins clients and grows your business.'
    ,
    most_popular: 'Most Popular',
    per_project: '/ project',
    choose: 'Choose',
    pricing_basic_desc: 'Perfect for simple landing pages',
    pricing_professional_desc: 'For businesses that need more features',
    pricing_enterprise_desc: 'Full customization for larger projects',
    feature_single_page: 'Single Page',
    feature_responsive: 'Responsive Design',
    feature_sections_4: 'Up to 4 Sections',
    feature_basic_seo: 'Basic SEO Optimization',
    feature_fast_loading: 'Fast Loading Speed',
    delivery_7_days: '7 Days Delivery',
    feature_everything_basic: 'Everything in Basic',
    feature_sections_5: 'Up to 5 Sections',
    feature_adv_seo: 'Advanced SEO Optimization',
    feature_custom_forms: 'Custom Forms',
    feature_analytics: 'Analytics Integration',
    delivery_1_day: '1 Day Delivery',
    feature_social: 'Social Media Integration',
    feature_unlimited: 'Unlimited Sections',
    feature_premium_seo: 'Premium SEO Package',
    feature_custom_integrations: 'Custom Integrations',
    feature_priority_support: 'Priority Support',
    feature_ab_testing: 'A/B Testing',
    feature_performance: 'Performance Optimization',
    feature_backend: 'Custom Backend Integration',
    whatsapp_message_pkg: "Hi! I'm interested in the {name} package for ${price}. Could you provide more information?",
    footer_desc: 'Professional landing pages that convert. Fast, affordable, and results-driven.',
    how_it_works_title: 'How It Works'
  },
  'pt-BR': {
    brand_name: 'Landing Page Pro',
    navbar_portfolio: 'Portfólio',
    navbar_pricing: 'Preços',
    navbar_get_started: 'Começar',
    navbar_talk: 'Fale com a Nossa Equipe Agora',
    portfolio_title: 'Nosso Portfólio',
    portfolio_sub: 'Descubra landing pages incríveis que criamos para clientes de vários setores',
    pricing_title: 'Preços Simples e Transparentes',
    pricing_sub: 'Escolha o pacote perfeito para suas necessidades. Todos os planos incluem design responsivo e otimização de SEO.',
    cta_title: 'Pronto para Transformar seu Negócio?',
    cta_sub: 'Junte-se a centenas de empresas bem-sucedidas que lançaram com nossas landing pages profissionais.',
    cta_offer: 'Oferta por Tempo Limitado',
    view_portfolio: 'Ver Portfólio',
    hero_sub: 'Landing pages profissionais e de alto desempenho entregues rapidamente. Perfeito para startups, profissionais de marketing e empresas que precisam de resultados rápidos.',
    fast_delivery: 'Entrega Rápida! ⚡',
    contact_us: 'Fale conosco para preços enterprise',
    view_details: 'Ver Detalhes',
    whatsapp_message: 'Olá! Gostaria de obter mais informações.',
    footer_copy: 'Todos os direitos reservados.',
    who_title: 'Para Quem é Isso?',
    who_sub: 'Nosso serviço de landing page é perfeito para profissionais e empresas ambiciosas',
    how_title: 'Como Funciona',
    how_sub: 'Selecione o pacote perfeito que atenda suas necessidades e orçamento a partir de nossas opções de preços transparentes.',
    how_step1_title: 'Escolha Seu Pacote',
    how_step1_desc: 'Selecione o pacote perfeito que atenda suas necessidades e orçamento a partir de nossas opções de preços transparentes.',
    how_step2_title: 'Envie Seus Dados',
    how_step2_desc: 'Preencha nosso formulário simples com as cores da sua marca, logotipo e conteúdo. Nós orientamos você em cada etapa.',
    how_step3_title: 'Nós Projetamos e Construímos',
    how_step3_desc: 'Nossa equipe especializada cria sua landing page personalizada com atenção a cada detalhe, otimizada para conversões.',
    how_step4_title: 'Lançamento e Conversão',
    how_step4_desc: 'Receba sua página finalizada, revise e publique. Comece a converter visitantes em clientes imediatamente.',
    faq_title: 'Perguntas Frequentes',
    faq_sub: 'Tudo que você precisa saber sobre nosso serviço de landing page',
    faq_q1: 'Quanto tempo leva para concluir uma landing page?',
    faq_a1: 'O prazo de entrega depende do pacote escolhido: Básico (7 dias), Pro (1 dia) e Enterprise (1 dia). Trabalhamos de forma eficiente sem comprometer a qualidade para cumprir seus prazos.',
    faq_q2: 'Que tecnologia vocês usam?',
    faq_a2: 'Usamos tecnologias modernas e padrões da indústria, incluindo React, Next.js e Tailwind CSS para garantir que sua landing page seja rápida, responsiva e otimizada para SEO.',
    faq_q3: 'Vocês ajudam com copywriting?',
    faq_a3: 'Embora nosso foco principal seja design e desenvolvimento, podemos orientar sobre estrutura e melhores práticas. Recomendamos ter seu conteúdo pronto ou podemos conectá-lo com copywriters profissionais.',
    faq_q4: 'Vocês fornecem hospedagem?',
    faq_a4: 'Entregamos sua landing page pronta para implantação. Podemos recomendar soluções de hospedagem e oferecer assistência de implantação, garantindo um processo de lançamento tranquilo.',
    faq_q5: 'E quanto a SEO e analytics?',
    faq_a5: 'Todos os nossos pacotes incluem otimização básica de SEO. Os pacotes Pro e Enterprise incluem configuração avançada de SEO e integração de analytics (Google Analytics, Facebook Pixel, etc.).',
    faq_q6: 'Posso ver exemplos do seu trabalho?',
    faq_a6: 'Claro! Confira nossa seção de portfólio acima para ver exemplos de landing pages que criamos para vários setores e casos de uso.',
    faq_q7: 'O que acontece após o lançamento da minha página?',
    faq_a7: 'Após o lançamento, você possui totalmente a página. Fornecemos documentação e suporte para ajudá-lo a mantê-la. Também estamos disponíveis para manutenção e atualizações contínuas, se necessário.'
    ,
    no_hidden_fees: 'Sem Taxas Ocultas',
    satisfaction_100: '100% de Satisfação',
    hero_title_prefix: 'Landing Pages Impressionantes que',
    hero_title_emphasis: 'Convertem',
    projects_delivered: 'Projetos Entregues',
    client_satisfaction: 'Satisfação do Cliente',
    days_delivery: 'Dias de Entrega',
    how_intro: 'Do conceito ao lançamento em apenas 4 passos simples',
    services_title: 'Serviços',
    company_title: 'Empresa',
    legal_title: 'Legal',
    landing_pages: 'Landing Pages',
    logo_design: 'Design de Logo',
    seo_optimization: 'Otimização de SEO',
    custom_development: 'Desenvolvimento Personalizado',
    about_us: 'Sobre Nós',
    terms_of_service: 'Termos de Serviço',
    privacy_policy: 'Política de Privacidade',
    cookie_policy: 'Política de Cookies',
    audience_startups_title: 'Startups',
    audience_startups_desc: 'Lance seu MVP com uma landing page profissional que atrai investidores e primeiros usuários.',
    audience_marketers_title: 'Profissionais de Marketing',
    audience_marketers_desc: 'Crie páginas de campanha de alta conversão que maximizam seu ROI e geram leads qualificados.',
    audience_smallbiz_title: 'Pequenas Empresas',
    audience_smallbiz_desc: 'Estabeleça sua presença online com uma página impressionante que gera confiança e impulsiona vendas.',
    audience_freelancers_title: 'Freelancers',
    audience_freelancers_desc: 'Mostre seus serviços e portfólio com uma página que conquista clientes e amplia seu negócio.'
    ,
    most_popular: 'Mais Popular',
    per_project: '/ projeto',
    choose: 'Escolher',
    pricing_basic_desc: 'Perfeito para landing pages simples',
    pricing_professional_desc: 'Para empresas que precisam de mais recursos',
    pricing_enterprise_desc: 'Personalização completa para projetos maiores',
    feature_single_page: 'Página Única',
    feature_responsive: 'Design Responsivo',
    feature_sections_4: 'Até 4 Seções',
    feature_basic_seo: 'Otimização SEO Básica',
    feature_fast_loading: 'Carregamento Rápido',
    delivery_7_days: 'Entrega em 7 dias',
    feature_everything_basic: 'Tudo do Básico',
    feature_sections_5: 'Até 5 Seções',
    feature_adv_seo: 'Otimização SEO Avançada',
    feature_custom_forms: 'Formulários Personalizados',
    feature_analytics: 'Integração de Analytics',
    delivery_1_day: 'Entrega em 1 dia',
    feature_social: 'Integração com Redes Sociais',
    feature_unlimited: 'Seções Ilimitadas',
    feature_premium_seo: 'Pacote SEO Premium',
    feature_custom_integrations: 'Integrações Personalizadas',
    feature_priority_support: 'Suporte Prioritário',
    feature_ab_testing: 'Testes A/B',
    feature_performance: 'Otimização de Performance',
    feature_backend: 'Integração Backend Personalizada',
    whatsapp_message_pkg: 'Olá! Tenho interesse no pacote {name} por R${price}. Poderia me fornecer mais informações?',
    footer_desc: 'Landing pages profissionais que convertem. Rápidas, acessíveis e focadas em resultados.',
    how_it_works_title: 'Como Funciona'
  }
};

const LanguageContext = createContext<{ lang: Lang; t: (key: string) => string }>({ lang: 'en', t: (k) => k });

export const useTranslation = () => useContext(LanguageContext);

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [lang, setLang] = useState<Lang>('en');

  useEffect(() => {
    const nav = navigator.language || (navigator as any).userLanguage || 'en';
    if (nav.startsWith('pt')) setLang('pt-BR');
    else setLang('en');
  }, []);

  const t = (key: string) => {
    return translations[lang][key] ?? translations['en'][key] ?? key;
  };

  return <LanguageContext.Provider value={{ lang, t }}>{children}</LanguageContext.Provider>;
};

export default LanguageProvider;
